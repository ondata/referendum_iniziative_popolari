# Project Context

## Purpose
Provide a modern, accessible website to explore Italian referendums and popular initiatives using official Ministry of Justice data, with searchable, filterable, shareable views and daily-updated content.

## Tech Stack
- Astro 5 (static site generation)
- React 19 for interactive components
- TypeScript (type safety)
- Tailwind CSS (utility-first styling)
- Node.js tooling (npm scripts, tsx)
- Sharp for OpenGraph image generation

## Project Conventions

### Code Style
- 2-space indentation in Astro/TS/JS
- Prefer clear PascalCase component names in `src/components/`
- Keep Astro pages lowercase and route-aligned in `src/pages/` (e.g., `tabella.astro`)
- Tailwind-first styling; avoid custom CSS unless necessary
- Use `import.meta.env.BASE_URL` or `src/lib/paths.ts` helpers for internal links and assets

### Architecture Patterns
- Astro pages in `src/pages/`, shared layout in `src/layouts/`
- Reusable UI components in `src/components/`; helpers/types in `src/lib/` and `src/types/`
- Centralized navigation config in `src/config/navigation.ts`
- OpenGraph images generated by `scripts/generate-og-images.js` into `public/og-images/`

### Testing Strategy
- No automated test suite currently
- Verify UI/data changes locally with `npm run dev` and `npm run preview`

### Git Workflow
- Main branch deploys to GitHub Pages via GitHub Actions
- Conventional Commits used in history (e.g., `feat:`, `fix:`, `chore:`); `[skip ci]` sometimes used for data-only updates

## Domain Context
- Data represents Italian referendums and popular initiatives
- Official source: Ministry of Justice public API
- Data snapshots stored in `data/` (e.g., `source.jsonl`, `time_line.jsonl`, `quesiti/`)
- Content is refreshed daily; avoid manual edits to `data/` unless intentional and documented

## Important Constraints
- Production deploy is under a GitHub Pages subpath; base URL handling is critical
- Always build URLs using `import.meta.env.BASE_URL` or `src/lib/paths.ts` helpers
- OpenGraph images must be 1200x630 and stored in `public/og-images/`

## External Dependencies
- Ministry of Justice API: `https://firmereferendum.giustizia.it/referendum/api-portal/iniziativa/public`
- GitHub Actions for CI/CD and GitHub Pages hosting
